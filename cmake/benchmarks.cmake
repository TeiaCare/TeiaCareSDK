function(setup_benchmarks TARGET_NAME)
	set(TARGET_NAME_BENCHMARK ${TARGET_NAME}_benchmarks)
	find_package(benchmark REQUIRED)
	add_executable(${TARGET_NAME_BENCHMARK})
	target_sources(${TARGET_NAME_BENCHMARK} PRIVATE ${ARGN})
	target_compile_features(${TARGET_NAME_BENCHMARK} PUBLIC cxx_std_20)
	target_link_libraries(${TARGET_NAME_BENCHMARK} PRIVATE benchmark::benchmark PRIVATE ${TARGET_NAME})
    install(TARGETS ${TARGET_NAME_BENCHMARK} DESTINATION benchmarks)
endfunction()
